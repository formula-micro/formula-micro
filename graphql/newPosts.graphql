fragment NewsPost on news_posts {
    id
    status
    date_published
    title
    cover_image {
        id
        title
        description
        width
        height
        attribution
    }
    slug
    summary
    content
    tags {
        tags_id {
            ...Tag
        }
    }
}

query NewsPostsCount($filter: news_posts_filter) {
    news_posts_aggregated(filter: $filter) {
        count {
            count: id
        }
    }
}

query NewsPosts($filter: news_posts_filter, $limit: Int, $offset: Int, $page: Int, $search: String, $sort: [String]) {
    news_posts(filter: $filter, limit: $limit, offset: $offset, page: $page, search: $search, sort: $sort) {
        ...NewsPost
    }
}

query NewsPostsByTags($tags: [String], $limit: Int, $offset: Int, $sort: [String]) {
  news_posts(filter: { tags: { tags_id: { id: { _in: $tags } } } }, limit: $limit, offset: $offset, sort: $sort) {
    ...NewsPost
  }
}